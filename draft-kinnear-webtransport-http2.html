<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>WebTransport using HTTP/2</title>
<meta content="Alan Frindell" name="author">
<meta content="Eric Kinnear" name="author">
<meta content="Tommy Pauly" name="author">
<meta content="Victor Vasiliev" name="author">
<meta content="Guowu Xie" name="author">
<meta content="
       WebTransport is a protocol framework that enables clients constrained by the Web
security model to communicate with a remote server using a secure multiplexed
transport. This document describes Http2Transport, a WebTransport protocol that
is based on HTTP/2 and provides support for either endpoint to initiate streams
multiplexed within the same HTTP/2 connection. 
    " name="description">
<meta content="xml2rfc 3.3.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-kinnear-webtransport-http2-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.3.0
    Python 3.8.5
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.5.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 45.2.0
    six 1.14.0
-->
<link href="draft-kinnear-webtransport-http2.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@import url('https://martinthomson.github.io/i-d-template/fonts.css');

html {
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --small-font-size: 14.5px;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
#title {
  padding: 1em 0 0.2em;
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1, h2, h3 {
  font-size: 22px;
  line-height: 26px;
}
h4, h5, h6 {
  font-size: 18px;
  line-height: 22px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p, #abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 18px;
  line-height: 24px;
}
p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px 'Oxygen Mono', monospace;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre {
    display: inline-block;
    overflow-x: auto;
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
  table {
    display: inline-block;
    overflow-x: auto;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  visibility: hidden;
  user-select: none;
}
a.pilcrow[href] { color: #ddd; }
a.pilcrow[href]:hover { text-decoration: none; }
@media screen {
  :hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 500px) {
  .index ul {
    column-count: 2;
    column-gap: 20px;
  }
  .index ul ul {
    column-count: 1;
    column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">WebTransportHTTP2</td>
<td class="right">November 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Frindell, et al.</td>
<td class="center">Expires 19 May 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">webtrans</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-kinnear-webtransport-http2-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-11-15" class="published">15 November 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-05-19">19 May 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Frindell</div>
<div class="org">Facebook Inc.</div>
</div>
<div class="author">
      <div class="author-name">E. Kinnear</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">T. Pauly</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">V. Vasiliev</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">G. Xie</div>
<div class="org">Facebook Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">WebTransport using HTTP/2</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">WebTransport is a protocol framework that enables clients constrained by the Web
security model to communicate with a remote server using a secure multiplexed
transport. This document describes Http2Transport, a WebTransport protocol that
is based on HTTP/2 and provides support for either endpoint to initiate streams
multiplexed within the same HTTP/2 connection.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-note-to-readers">
<a href="#name-note-to-readers" class="section-name selfRef">Note to Readers</a>
      </h2>
<p id="section-note.1-1">Discussion of this draft takes place on the WebTransport mailing list
(webtransport@ietf.org), which is archived at
&lt;https://mailarchive.ietf.org/arch/search/?email_list=webtransport&gt;.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">The repository tracking the issues for this draft can be found at
&lt;https://github.com/erickinnear/draft-http-transport/issues&gt;.
The web API draft corresponding to this document can be found at
&lt;https://wicg.github.io/web-transport/&gt;.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 19 May 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-and-definitions" class="xref">Conventions and Definitions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-http2transport-overview" class="xref">Http2Transport Overview</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-webtransport-connect-stream" class="xref">WebTransport Connect Streams</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-webtransport-streams" class="xref">WebTransport Streams</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-negotiation" class="xref">Negotiation</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-the-settings_enable_webtran" class="xref">The SETTINGS_ENABLE_WEBTRANSPORT SETTINGS parameter</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-the-wtheaders-frame" class="xref">The WTHEADERS Frame</a><a href="#section-toc.1-1.3.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="xref">3.6</a>.  <a href="#name-initiating-the-extended-con" class="xref">Initiating the Extended CONNECT Handshake</a><a href="#section-toc.1-1.3.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="xref">3.7</a>.  <a href="#name-examples" class="xref">Examples</a><a href="#section-toc.1-1.3.2.7.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-using-webtransport-streams" class="xref">Using WebTransport Streams</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-stream-states" class="xref">Stream States</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-interaction-with-http-2-fea" class="xref">Interaction with HTTP/2 Features</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-intermediaries" class="xref">Intermediaries</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-session-termination" class="xref">Session Termination</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-transport-properties" class="xref">Transport Properties</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-http-2-frame-type-registry" class="xref">HTTP/2 Frame Type Registry</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-http-2-settings-registry" class="xref">HTTP/2 Settings Registry</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-http-2-error-code-registry" class="xref">HTTP/2 Error Code Registry</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-upgrade-token-registration" class="xref">Upgrade Token Registration</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">HTTP/2 <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> transports HTTP messages via a framing layer that includes
many optimizations designed to make communication more efficient between clients
and servers. These include multiplexing of multiple streams on a single
underlying transport connection, flow control, priorities, header compression,
and exchange of configuration information between endpoints.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Currently, the only mechanism in HTTP/2 for server to client communication is
server push. That is, servers can initiate unidirectional push promised streams
to clients, but clients cannot respond to them; they can only accept them or
discard them. Additionally, intermediaries along the path may have different
server push policies and may not forward push promised streams to the downstream
client. This best effort mechanism is not sufficient to reliably deliver
messages from servers to clients, limiting server to client use-cases such as
chat messages or notifications.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Several techniques have been developed to workaround these limitations: long
polling <span>[<a href="#RFC6202" class="xref">RFC6202</a>]</span>, WebSocket <span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span>, and tunneling using the CONNECT
method. All of these approaches layer an application protocol on top of HTTP/2,
using HTTP/2 streams as transport connections. This layering defeats the
optimizations provided by HTTP/2. For example, application metadata is
encapsulated in DATA frames rather than HEADERS frames, bypassing the advantages
of HPACK header compression. Further, application data might be framed multiple
times at different protocol layers, reducing the wire efficiency of the
protocol.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document defines Http2Transport, a mechanism for multiplexing
non-request/response streams with HTTP/2 in a manner that conforms with the
WebTransport protocol framework <span>[<a href="#I-D.vvv-webtransport-overview" class="xref">I-D.vvv-webtransport-overview</a>]</span>. Using the
mechanism described, multiple Http2Transport instances can be multiplexed
simultaneously with regular HTTP traffic on the same HTTP/2 connection.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
when, and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document follows terminology defined in Section 1.2 of
<span>[<a href="#I-D.vvv-webtransport-overview" class="xref">I-D.vvv-webtransport-overview</a>]</span>. Note that this document distinguishes
between a WebTransport server and an HTTP/2 server. An HTTP/2 server is the
server that terminates HTTP/2 connections; a WebTransport server is an
application that accepts WebTransport sessions, which can be accessed via an
HTTP/2 server.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http2transport-overview">
<section id="section-3">
      <h2 id="name-http2transport-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-http2transport-overview" class="section-name selfRef">Http2Transport Overview</a>
      </h2>
<p id="section-3-1">Section 8.3 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> defines the HTTP CONNECT method for HTTP/2, which
converts an HTTP/2 stream into a tunnel for arbitrary data. <span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span>
describes the use of the extended CONNECT method to negotiate the use of the
WebSocket Protocol <span>[<a href="#RFC6455" class="xref">RFC6455</a>]</span> on an HTTP/2 stream. Http2Transport uses the
extended CONNECT handshake to allow WebTransport endpoints to multiplex
arbitrary data streams on HTTP/2 connections.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Http2Transport introduces a new HTTP/2 frame which carries structured metadata
like the HEADERS and PUSH_PROMISE frames but without the constraints of the
request/response state machine and semantics.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The WebTransport over HTTP/2 extension:<a href="#section-3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-4">
<li id="section-3-4.1">Enables bidirectional and symmetric communication over HTTP/2. After a
WebTransport session is established, a server can initiate a WebTransport stream
to the client at any time, and the client can respond to server-initiated
streams.<a href="#section-3-4.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.2">Allows WebTransport streams to take advantage of HTTP/2 features such as
header compression, prioritization, and flow-control.<a href="#section-3-4.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.3">Provides a mechanism for intermediaries to route server initiated messages to
the correct client.<a href="#section-3-4.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-4.4">Allows clients and servers to group streams and route them together.<a href="#section-3-4.4" class="pilcrow">¶</a>
</li>
      </ol>
<div id="webtransport-connect-streams">
<section id="section-3.1">
        <h3 id="name-webtransport-connect-stream">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-webtransport-connect-stream" class="section-name selfRef">WebTransport Connect Streams</a>
        </h3>
<p id="section-3.1-1">After negotiating the use of this extension, clients initiate one or more
WebTransport Connect Streams to a Http2Transport Server. Http2Transport servers
are identified by a pair of authority value and path value (defined in
<span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span> Sections 3.2 and 3.3 respectively). The client uses the extended
CONNECT method with a :protocol token "webtransport" to establish a WebTransport
Connect Stream. This stream is only used to establish a WebTransport session and
is not intended for data exchange.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="webtransport-streams">
<section id="section-3.2">
        <h3 id="name-webtransport-streams">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-webtransport-streams" class="section-name selfRef">WebTransport Streams</a>
        </h3>
<p id="section-3.2-1">Following the establishment of a WebTransport Connect stream, either the client
or the server can initiate a WebTransport Stream by sending the WTHEADERS frame,
defined in <a href="#the-wtheaders-frame" class="xref">Section 3.5</a>. This frame references an open WebTransport
Connect stream which is used by any intermediaries to correctly forward the
stream to the destination endpoint. The only frames allowed on WebTransport
Streams are WTHEADERS, CONTINUATION, DATA and any negotiated extension frames.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="negotiation">
<section id="section-3.3">
        <h3 id="name-negotiation">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-negotiation" class="section-name selfRef">Negotiation</a>
        </h3>
<p id="section-3.3-1">Clients negotiate the use of WebTransport over HTTP/2 using both the SETTINGS
frame and one or more extended CONNECT requests as defined in <span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span>.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Use of the extended CONNECT method extension requires the
SETTINGS_ENABLE_CONNECT_PROTOCOL parameter to be received by a client prior to
its use. An endpoint that supports receiving the extended CONNECT method SHOULD
send this setting with a value of 1.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">The extended CONNECT method extension uses the <code>:protocol</code> pseudo-header field
to negotiate the protocol that will be used on a given stream in an HTTP/2
connection. This document registers a new token, "webtransport", in the
"Hypertext Transfer Protocol (HTTP) Upgrade Token Registry" established by
<span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> and located at
<a href="https://www.iana.org/assignments/http-upgrade-tokens/">https://www.iana.org/assignments/http-upgrade-tokens/</a>.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">This token is used in the <code>:protocol</code> pseudo-header field to indicate that the
endpoint wishes to use the WebTransport protocol on the new stream.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-settingsenablewebtransport-settings-parameter">
<section id="section-3.4">
        <h3 id="name-the-settings_enable_webtran">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-the-settings_enable_webtran" class="section-name selfRef">The SETTINGS_ENABLE_WEBTRANSPORT SETTINGS parameter</a>
        </h3>
<p id="section-3.4-1">As described in Section 5.5 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>, SETTINGS parameters allow endpoints
to negotiate use of protocol extensions that would otherwise generate protocol
errors.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">This document introduces a new SETTINGS parameter, SETTINGS_ENABLE_WEBTRANSPORT,
which MUST have a value of 0 or 1.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">Once a SETTINGS_ENABLE_WEBTRANSPORT parameter has been sent with a value of 1,
an endpoint MUST NOT send the parameter with a value of 0.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">Upon receipt of SETTINGS_ENABLE_WEBTRANSPORT with a value of 1, an endpoint MAY
use the WTHEADERS frame type defined in this document. An endpoint that supports
receiving the WTHEADERS as part of the WebTransport protocol SHOULD send this
setting with a value of 1.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-wtheaders-frame">
<section id="section-3.5">
        <h3 id="name-the-wtheaders-frame">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-the-wtheaders-frame" class="section-name selfRef">The WTHEADERS Frame</a>
        </h3>
<p id="section-3.5-1">A new HTTP/2 frame called WTHEADERS is introduced for either endpoint to
establish streams. A stream opened by a WTHEADERS frame is referred to as a
WebTransport Stream, and it MAY be continued by CONTINUATION and DATA frames.
WebTransport Streams can be initiated by either clients or servers via a
WTHEADERS frame that refers to the corresponding WebTransport Connect Stream on
which the WebTransport protocol was negotiated.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">The WTHEADERS frame (type=0xfb) has all the fields and frame header flags
defined by HEADERS frame in HEADERS <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>, Section 6.2.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">The WTHEADERS frame has an additional flag, Unidirectional (0x40).  When this flag
is present, the stream starts in a half-closed state. The sending endpoint
stream state is "half-closed (remote)" and the receiving endpoint state is
"half-closed (local)".<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<p id="section-3.5-4">The WTHEADERS frame has one extra field, Connect Stream ID. WTHEADERS frames can
be sent on a stream in the "idle", "open", or "half-closed (remote)" state, see
<a href="#stream-states" class="xref">Section 4.1</a>.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
<p id="section-3.5-5">Like HEADERS, the CONTINUATION frame (type=0x9) is used to continue a sequence
of header block fragments, if the headers do not fit into one WTHEADERS frame.<a href="#section-3.5-5" class="pilcrow">¶</a></p>
<p id="section-3.5-6">The WTHEADERS frame is shown in <a href="#fig-wtheaders" class="xref">Figure 1</a>.<a href="#section-3.5-6" class="pilcrow">¶</a></p>
<span id="name-wtheaders-frame-format"></span><div id="fig-wtheaders">
<figure id="figure-1">
          <div class="artwork art-text alignLeft" id="section-3.5-7.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+
|Pad Length? (8)|
+-+-------------+-----------------------------------------------+
|E|                 Stream Dependency? (31)                     |
+-+-------------+-----------------------------------------------+
|  Weight? (8)  |
+-+-------------+-----------------------------------------------+
|R|                 Connect Stream ID (31)                      |
+-+-------------------------------------------------------------+
|                   Header Block Fragment (*)                 ...
+---------------------------------------------------------------+
|                           Padding (*)                       ...
+---------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-wtheaders-frame-format" class="selfRef">WTHEADERS Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-3.5-8">The Connect Stream specified in a WTHEADERS frame MUST be an open stream
negotiated via the extended CONNECT protocol with a <code>:protocol</code> value of
"webtransport".<a href="#section-3.5-8" class="pilcrow">¶</a></p>
<p id="section-3.5-9">The recipient MUST respond with a connection error of type
WTHEADERS_STREAM_ERROR if the specified WebTransport Connect Stream does not
exist, is not a stream established via extended CONNECT to use the
"webtransport" protocol, or if it is in the closed or half-closed (remote)
stream state. This allows WebTransport Streams to participate in header
compression and flow control.<a href="#section-3.5-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="initiating-the-extended-connect-handshake">
<section id="section-3.6">
        <h3 id="name-initiating-the-extended-con">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-initiating-the-extended-con" class="section-name selfRef">Initiating the Extended CONNECT Handshake</a>
        </h3>
<p id="section-3.6-1">An endpoint that wishes to establish a WebTransport session over an HTTP/2
stream follows the extended CONNECT handshake procedure defined in <span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span>,
specifying "webtransport" for the :protocol pseudo-header field.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">The :scheme and :path pseudo-headers are required by <span>[<a href="#RFC6455" class="xref">RFC6455</a>]</span>. The scheme of
the target URI MUST be set to "https" for all :protocol values. The path is used
to identify the specific WebTransport server instance for negotiation and MAY be
set to "/" (an empty path component).<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<p id="section-3.6-3">Implementations should note that the Origin, Sec-WebSocket-Version,
Sec-WebSocket-Protocol, and Sec-WebSocket-Extensions header fields are not
required to be included in the CONNECT request and response header fields, since
this handshake mechanism is not being used to negotiate a WebSocket connection.<a href="#section-3.6-3" class="pilcrow">¶</a></p>
<p id="section-3.6-4">If the response to the extended CONNECT request indicates success of the
handshake, then all further data sent or received on the new HTTP/2 stream is
considered to be that of the WebTransport protocol and follows the semantics
defined by that protocol. If the response indicates failure of the handshake,
any WebTransport Streams that reference the WebTransport Connect Stream that
failed to establish MUST also be reset.<a href="#section-3.6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples">
<section id="section-3.7">
        <h3 id="name-examples">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
        </h3>
<p id="section-3.7-1">An example of negotiating a WebTransport Stream on an HTTP/2 connection follows.
This example is intended to closely follow the example in Section 5.1 of
<span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span> to help illustrate the differences defined in this document.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.7-2">
<pre>
[[ From Client ]]                   [[ From Server ]]

SETTINGS
SETTINGS_ENABLE_CONNECT_[..] = 1
SETTINGS_ENABLE_WEBTRANSPORT = 1

                                    SETTINGS
                                    SETTINGS_ENABLE_CONNECT_[..] = 1
                                    SETTINGS_ENABLE_WEBTRANSPORT = 1

HEADERS + END_HEADERS
+ STREAM_ID = 3
:method = CONNECT
:protocol = webtransport
:scheme = https
:path = /
:authority = server.example.com

                                    HEADERS + END_HEADERS
                                    + STREAM_ID = 3
                                    :status = 200

WTHEADERS + END_HEADERS
+ STREAM_ID = 5
+ CONNECT_STREAM = 3
:method = GET
:scheme = https
:path = /
:authority = server.example.com

                                    WTHEADERS + END_HEADERS
                                    + STREAM_ID = 5
                                    + CONNECT_STREAM = 3
                                    :status = 200

DATA + STREAM_ID = 5
WebTransport Data

                                    DATA + STREAM_ID = 5 + END_STREAM
                                    WebTransport Data

DATA + STREAM_ID = 5 + END_STREAM
WebTransport Data
</pre><a href="#section-3.7-2" class="pilcrow">¶</a>
</div>
<p id="section-3.7-3">An example of the server initiating a WebTransport Stream follows. The only
difference here is the endpoint that sends the first WTHEADERS frame.<a href="#section-3.7-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.7-4">
<pre>
[[ From Client ]]                   [[ From Server ]]

SETTINGS
SETTINGS_ENABLE_CONNECT_[..] = 1
SETTINGS_ENABLE_WEBTRANSPORT = 1

                                    SETTINGS
                                    SETTINGS_ENABLE_CONNECT_[..] = 1
                                    SETTINGS_ENABLE_WEBTRANSPORT = 1

HEADERS + END_HEADERS
+ STREAM_ID = 3
:method = CONNECT
:protocol = webtransport
:scheme = https
:path = /
:authority = server.example.com

                                    HEADERS + END_HEADERS
                                    + STREAM_ID = 3
                                    :status = 200

                                    WTHEADERS + END_HEADERS
                                    + STREAM_ID = 2
                                    + CONNECT_STREAM = 3
                                    :method = GET
                                    :scheme = https
                                    :path = /
                                    :authority = client.example.com

WTHEADERS + END_HEADERS
+ STREAM_ID = 2
+ CONNECT_STREAM = 3
:status = 200

                                    DATA + STREAM_ID = 2
                                    WebTransport Data

DATA + STREAM_ID = 2 + END_STREAM
WebTransport Data

                                    DATA + STREAM_ID = 2 + END_STREAM
                                    WebTransport Data
</pre><a href="#section-3.7-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="using-webtransport-streams">
<section id="section-4">
      <h2 id="name-using-webtransport-streams">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-using-webtransport-streams" class="section-name selfRef">Using WebTransport Streams</a>
      </h2>
<p id="section-4-1">Once the extended CONNECT handshake has completed and a WebTransport connect
stream has been established, WTHEADERS frames can be sent that reference that
stream in the Connect Stream ID field to establish WebTransport Streams.
WebTransport Connect Streams are intended for exchanging metadata only and are
RECOMMENDED to be long lived streams. Once a WebTransport Connect Stream is
closed, all routing information it carries is lost, and subsequent WebTransport
Streams cannot be created with WTHEADERS frames until the client completes
another extended CONNECT handshake to establish a new WebTransport Connect
Stream.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">In contrast, WebTransport Streams established with WTHEADERS frames can be
opened at any time by either endpoint and therefore need not remain open beyond
their immediate usage as part of the WebTransport protocol.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">An endpoint MUST NOT send DATA frames with a non-zero payload length on a
WebTransport Connect Stream beyond the completion of the extended CONNECT
handshake. If data is received by an endpoint on a WebTransport Connect Stream,
it MUST reset that stream with a new error code, PROHIBITED_WT_CONNECT_DATA,
indicating that additional data is prohibited on the Connect Stream when using
"webtransport" as the <code>:protocol</code> value.<a href="#section-4-3" class="pilcrow">¶</a></p>
<div id="stream-states">
<section id="section-4.1">
        <h3 id="name-stream-states">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-stream-states" class="section-name selfRef">Stream States</a>
        </h3>
<p id="section-4.1-1">WebTransport Connect Streams are regular HTTP/2 streams that follow the stream
lifecycle described in Section 5.1 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>. WebTransport Streams
established with the WTHEADERS frame also follow the same lifecycle as regular
HTTP/2 streams, but have an additional dependency on the Connect Stream that
they reference via their Connect Stream ID.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">If the corresponding Connect Stream is reset, endpoints MUST reset the
WebTransport Streams associated with that Connect Stream. If the Connect Stream
is closed gracefully, endpoints SHOULD allow any existing WebTransport Streams
to complete normally, however the Connect Stream SHOULD remain open while
communication is expected to continue.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Endpoints SHOULD take measures to prevent a peer or intermediary from timing out
the Connect Stream while its associated WebTransport Streams are expected to
remain open. For example, an endpoint might choose to refresh a timeout on a
Connect Stream any time a corresponding timeout is refreshed on a corresponding
WebTransport Stream, such as when any data is sent or received on that
WebTransport Stream.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">An endpoint MUST NOT initiate new WebTransport Streams that reference a Connect
Stream that is in the closed or half closed (remote) state. Endpoints process
new WebTransport Streams only when the associated Connect Stream is in the open
or half closed (local) state.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interaction-with-http2-features">
<section id="section-4.2">
        <h3 id="name-interaction-with-http-2-fea">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-interaction-with-http-2-fea" class="section-name selfRef">Interaction with HTTP/2 Features</a>
        </h3>
<p id="section-4.2-1">WebTransport Streams are extended HTTP/2 streams, and all of the standard HTTP/2
features for streams still apply to WebTransport Streams. For example,
WebTransport Streams are counted against the concurrent stream limit, which is
defined in Section 5.1.2 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>. The connection level and stream level
flow control limits are still valid for WebTransport Streams. Prioritizing
the WebTransport Streams across different Connect Stream groupings does not make
sense because they belong to different services.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Note that while HTTP/2 Stream IDs are used by WebTransport Streams to refer to
their corresponding WebTransport Connect Streams, the Stream IDs themselves are
an implementation detail and SHOULD NOT be vended to clients via a WebTransport
API.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="intermediaries">
<section id="section-4.3">
        <h3 id="name-intermediaries">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-intermediaries" class="section-name selfRef">Intermediaries</a>
        </h3>
<p id="section-4.3-1">WebTransport Connect Streams, and their corresponding WebTransport Streams, can
be independently routed by intermediaries on the network path. The main purpose
for a WebTransport Connect Stream is to facilitate intermediary traversal by
WebTransport Streams.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Any segment on which SETTINGS_ENABLE_WEBTRANSPORT has been negotiated MUST route
all WebTransport Streams established by WTHEADERS frames on the same connection
as their corresponding WebTransport Connect Streams.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">If an intermediary cannot route WebTransport Streams on a subsequent segment of
the path, it can fail the extended CONNECT handshake and prevent a WebTransport
Connect Stream from being established for a given endpoint. In the event that
additional WebTransport Streams reference that WebTransport Connect Stream, they
will also be reset.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">An example of such routing, for both client-initiated and server-initiated
WebTransport streams, is shown in <a href="#fig-client-routing-example" class="xref">Figure 2</a> and in
<a href="#fig-server-routing-example" class="xref">Figure 3</a>. Note that "webtransport" is specified as the
<code>:protocol</code> being negotiated by the CONNECT frame on both segments, and the
corresponding stream is referenced by the Connect Stream ID field in the
WTHEADERS frames.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<span id="name-a-client-initiates-a-webtra"></span><div id="fig-client-routing-example">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-4.3-5.1">
<pre>
+--------+   CONNECT (5)   +---------+    CONNECT (1)   +--------+
| client |&gt;---------------&gt;|  proxy  |&gt;----------------&gt;| server |
+--------+                 +---------+                  +--------+
   v                        ^     v                        ^
   |  WTHEADERS(7, CS=5)    |     |  WTHEADERS(3, CS=1)    |
   +------------------------+     +------------------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-a-client-initiates-a-webtra" class="selfRef">A client initiates a WebTransport Stream to a server.</a>
          </figcaption></figure>
</div>
<span id="name-a-server-initiates-a-webtra"></span><div id="fig-server-routing-example">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-4.3-6.1">
<pre>
+--------+   CONNECT (5)   +---------+    CONNECT (1)   +--------+
| client |&gt;---------------&gt;|  proxy  |&gt;----------------&gt;| server |
+--------+                 +---------+                  +--------+
    ^                        v     ^                        v
    |  WTHEADERS(4, CS=5)    |     |  WTHEADERS(2, CS=1)    |
    +------------------------+     +------------------------+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-a-server-initiates-a-webtra" class="selfRef">A server initiates a WebTransport Stream to a client.</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="session-termination">
<section id="section-4.4">
        <h3 id="name-session-termination">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-session-termination" class="section-name selfRef">Session Termination</a>
        </h3>
<p id="section-4.4-1">An Http2Transport session is terminated when either endpoint closes the stream
associated with the CONNECT request that initiated the session. Upon learning
about the session being terminated, both endpoints MUST stop sending new frames
on the WebTransport Connect Stream associated with the CONNECT request and reset
all WebTransport Streams associated with the session.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="transport-properties">
<section id="section-5">
      <h2 id="name-transport-properties">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-transport-properties" class="section-name selfRef">Transport Properties</a>
      </h2>
<p id="section-5-1">The WebTransport framework <span>[<a href="#I-D.vvv-webtransport-overview" class="xref">I-D.vvv-webtransport-overview</a>]</span> defines a set of
optional transport properties that clients can use to determine the presence of
features which might allow additional optimizations beyond the common set of
properties available via all WebTransport protocols. Below are details about
support in Http2Transport for those properties.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5-2">
        <dt id="section-5-2.1">Stream Independence:</dt>
        <dd style="margin-left: 1.5em" id="section-5-2.2">
  Http2Transport does not support stream independence, as HTTP/2 inherently has
  head of line blocking.<a href="#section-5-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.3">Partial Reliability:</dt>
        <dd style="margin-left: 1.5em" id="section-5-2.4">
  Http2Transport does not support partial reliability, as HTTP/2 retransmits any
  lost data. This means that any datagrams sent via Http2Transport will be
  retransmitted regardless of the preference of the application.<a href="#section-5-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.5">Pooling Support:</dt>
        <dd style="margin-left: 1.5em" id="section-5-2.6">
  Http2Transport supports pooling, as multiple transports using Http2Transport
  may share the same underlying HTTP/2 connection and therefore share a
  congestion controller and other transport context.<a href="#section-5-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.7">Connection Mobility:</dt>
        <dd style="margin-left: 1.5em" id="section-5-2.8">
  Http2Transport does not support connection mobility, unless an underlying
  transport protocol that supports multipath or migration, such as MPTCP
  <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>, is used underneath HTTP/2 and TLS. Without such support,
  Http2Transport connections cannot survive network transitions.<a href="#section-5-2.8" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">WebTransport Streams established by the CONNECT handshake and the WTHEADERS
frame are expected to be protected with a TLS connection. They inherit the
security properties of this cryptographic context, as well as the security
properties of client-server communication via HTTP/2 as described in
<span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The security considerations of <span>[<a href="#RFC8441" class="xref">RFC8441</a>]</span> Section 8 and <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> Section 10, and
Section 10.5.2 especially, apply to this use of the CONNECT method.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">Http2Transport requires explicit opt-in through the use of an HTTP/2 SETTINGS
parameter, avoiding potential protocol confusion attacks by ensuring the HTTP/2
server explicitly supports the WebTransport protocol. It also requires the use
of the Origin header, providing the server with the ability to deny access to
Web-based clients that do not originate from a trusted origin.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">Just like HTTP/2 itself, Http2Transport pools traffic to different origins
within a single connection. Different origins imply different trust domains,
meaning that the implementations have to treat each transport as potentially
hostile towards others on the same connection. One potential attack is a
resource exhaustion attack: since all of the transports share both congestion
control and flow control context, a single client aggressively using up those
resources can cause other transports to stall. The user agent thus SHOULD
implement a fairness scheme that ensures that each WebTransport session within a
connection is allocated a reasonable share of controlled resources, both when
sending data and opening new streams.<a href="#section-6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document adds an entry to the "HTTP/2 Frame Type" registry, the "HTTP/2
Settings" registry, and the "HTTP/2 Error Code" registry, all defined in
<span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>. It also registers an HTTP upgrade token in the registry established
by <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="http2-frame-type-registry">
<section id="section-7.1">
        <h3 id="name-http-2-frame-type-registry">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-http-2-frame-type-registry" class="section-name selfRef">HTTP/2 Frame Type Registry</a>
        </h3>
<p id="section-7.1-1">The following entry is added to the "HTTP/2 Frame Type" registry established by
Section 11.2 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-2">
          <dt id="section-7.1-2.1">Frame Type:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-2.2">
  WTHEADERS<a href="#section-7.1-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.3">Code:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-2.4">
  0xFB<a href="#section-7.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.5">Specification:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-2.6">
            <em>RFC Editor: Please fill in this value with the RFC number for this
document</em><a href="#section-7.1-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="http2-settings-registry">
<section id="section-7.2">
        <h3 id="name-http-2-settings-registry">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-http-2-settings-registry" class="section-name selfRef">HTTP/2 Settings Registry</a>
        </h3>
<p id="section-7.2-1">The following entry is added to the "HTTP/2 Settings" registry that was
established by Section 11.3 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-2">
          <dt id="section-7.2-2.1">Code:</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.2">
  0xFB<a href="#section-7.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.3">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.4">
  SETTINGS_ENABLE_WEBTRANSPORT<a href="#section-7.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.5">Initial Value:</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.6">
  0<a href="#section-7.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.7">Specification:</dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.8">
            <em>RFC Editor: Please fill in this value with the RFC number for this
document</em><a href="#section-7.2-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="http2-error-code-registry">
<section id="section-7.3">
        <h3 id="name-http-2-error-code-registry">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-http-2-error-code-registry" class="section-name selfRef">HTTP/2 Error Code Registry</a>
        </h3>
<p id="section-7.3-1">The following entries are added to the "HTTP/2 Error Code" registry that was
established by Section 11.2 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-2">
          <dt id="section-7.3-2.1">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.2">
  WTHEADERS_STREAM_ERROR<a href="#section-7.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.3">Code:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.4">
  0xFB<a href="#section-7.3-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.5">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.6">
  Invalid use of WTHEADERS frame<a href="#section-7.3-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.7">Specification:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.8">
            <em>RFC Editor: Please fill in this value with the RFC number for this
document</em><a href="#section-7.3-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.9">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.10">
  PROHIBITED_WT_CONNECT_DATA<a href="#section-7.3-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.11">Code:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.12">
  0xFC<a href="#section-7.3-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.13">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.14">
  Prohibited data sent on WebTransport Connect Stream<a href="#section-7.3-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-2.15">Specification:</dt>
          <dd style="margin-left: 1.5em" id="section-7.3-2.16">
            <em>RFC Editor: Please fill in this value with the RFC number for this
document</em><a href="#section-7.3-2.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="upgrade-token-registration">
<section id="section-7.4">
        <h3 id="name-upgrade-token-registration">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-upgrade-token-registration" class="section-name selfRef">Upgrade Token Registration</a>
        </h3>
<p id="section-7.4-1">The following entry is added to the "Hypertext Transfer Protocol (HTTP) Upgrade
Token Registry" registry established by <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-2">
          <dt id="section-7.4-2.1">Value:</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-2.2">
  webtransport<a href="#section-7.4-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-2.4">
  WebTransport over HTTP<a href="#section-7.4-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.4-3">Expected Version Tokens:<a href="#section-7.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4">
          <dt id="section-7.4-4.1">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.2">
            <em>RFC Editor: Please fill in this value with the RFC number for this
document</em> and <span>[<a href="#I-D.vvv-webtransport-http3" class="xref">I-D.vvv-webtransport-http3</a>]</span><a href="#section-7.4-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span><span class="refAuthor">, Fielding, R.</span><span class="refAuthor">, and L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6455">[RFC6455]</dt>
        <dd>
<span class="refAuthor">Fette, I.</span><span class="refAuthor"> and A. Melnikov</span>, <span class="refTitle">"The WebSocket Protocol"</span>, <span class="seriesInfo">RFC 6455</span>, <span class="seriesInfo">DOI 10.17487/RFC6455</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6455">https://www.rfc-editor.org/info/rfc6455</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7230">[RFC7230]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <span class="seriesInfo">DOI 10.17487/RFC7230</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7230">https://www.rfc-editor.org/info/rfc7230</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7540">[RFC7540]</dt>
        <dd>
<span class="refAuthor">Belshe, M.</span><span class="refAuthor">, Peon, R.</span><span class="refAuthor">, and M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <span class="seriesInfo">DOI 10.17487/RFC7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7540">https://www.rfc-editor.org/info/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8441">[RFC8441]</dt>
      <dd>
<span class="refAuthor">McManus, P.</span>, <span class="refTitle">"Bootstrapping WebSockets with HTTP/2"</span>, <span class="seriesInfo">RFC 8441</span>, <span class="seriesInfo">DOI 10.17487/RFC8441</span>, <time datetime="2018-09" class="refDate">September 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8441">https://www.rfc-editor.org/info/rfc8441</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.vvv-webtransport-http3">[I-D.vvv-webtransport-http3]</dt>
        <dd>
<span class="refAuthor">Vasiliev, V.</span>, <span class="refTitle">"WebTransport over HTTP/3"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-vvv-webtransport-http3-02</span>, <time datetime="2020-06-30" class="refDate">30 June 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-vvv-webtransport-http3-02.txt">http://www.ietf.org/internet-drafts/draft-vvv-webtransport-http3-02.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.vvv-webtransport-overview">[I-D.vvv-webtransport-overview]</dt>
        <dd>
<span class="refAuthor">Vasiliev, V.</span>, <span class="refTitle">"The WebTransport Protocol Framework"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-vvv-webtransport-overview-01</span>, <time datetime="2019-11-03" class="refDate">3 November 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-vvv-webtransport-overview-01.txt">http://www.ietf.org/internet-drafts/draft-vvv-webtransport-overview-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6202">[RFC6202]</dt>
      <dd>
<span class="refAuthor">Loreto, S.</span><span class="refAuthor">, Saint-Andre, P.</span><span class="refAuthor">, Salsano, S.</span><span class="refAuthor">, and G. Wilkins</span>, <span class="refTitle">"Known Issues and Best Practices for the Use of Long Polling and Streaming in Bidirectional HTTP"</span>, <span class="seriesInfo">RFC 6202</span>, <span class="seriesInfo">DOI 10.17487/RFC6202</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6202">https://www.rfc-editor.org/info/rfc6202</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="section-appendix.a">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-appendix.a-1">Thanks to Anthony Chivetta, Joshua Otto, and Valentin Pistol for their
contributions in the design and implementation of this work.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alan Frindell</span></div>
<div dir="auto" class="left"><span class="org">Facebook Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:afrind@fb.com" class="email">afrind@fb.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Eric Kinnear</span></div>
<div dir="auto" class="left"><span class="org">Apple Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">One Apple Park Way</span></div>
<div dir="auto" class="left">
<span class="locality">Cupertino, California 95014</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ekinnear@apple.com" class="email">ekinnear@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tommy Pauly</span></div>
<div dir="auto" class="left"><span class="org">Apple Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">One Apple Park Way</span></div>
<div dir="auto" class="left">
<span class="locality">Cupertino, California 95014</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tpauly@apple.com" class="email">tpauly@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Victor Vasiliev</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vasilvv@google.com" class="email">vasilvv@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Guowu Xie</span></div>
<div dir="auto" class="left"><span class="org">Facebook Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:woo@fb.com" class="email">woo@fb.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
